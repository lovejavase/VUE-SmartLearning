<template>
	<!-- 登录页 -->
	<view class="register">
		<view class="bg">
			<text class="text1">登录</text>
			<text class="text2">欢迎回来！</text>
		</view>
		<view class="input">
			<view class="box">
				<el-input v-model="account" placeholder="请输入您的用户名" />
			</view>
			<view class="box">
				<el-input v-model="pwd" type="password" placeholder="请输入您的密码" show-password />
			</view>
		</view>
		<view class="choice">
			<el-checkbox v-model="remember" label="记住我" />
			<el-button text>忘记密码</el-button>
		</view>
		<view class="or">
			<text class="title">其它登录方式</text>
			<view class="other">
				<el-button class="orBtn" plain><el-icon>
						<svg t="1690990258465" class="icon" viewBox="0 0 1024 1024" version="1.1"
							xmlns="http://www.w3.org/2000/svg" p-id="10544" width="128" height="128">
							<path
								d="M693.12 347.264c11.776 0 23.36 0.896 35.008 2.176-31.36-146.048-187.456-254.528-365.696-254.528C163.2 94.912 0 230.656 0 403.136c0 99.52 54.272 181.248 145.024 244.736L108.8 756.864l126.72-63.488c45.312 8.896 81.664 18.112 126.912 18.112 11.392 0 22.656-0.512 33.792-1.344-7.04-24.256-11.2-49.6-11.2-76.032 0.064-158.336 136-286.848 308.096-286.848z m-194.816-98.24c27.392 0 45.376 17.984 45.376 45.248 0 27.136-17.984 45.312-45.376 45.312-27.072 0-54.336-18.176-54.336-45.312 0-27.328 27.2-45.248 54.336-45.248z m-253.632 90.56c-27.2 0-54.592-18.176-54.592-45.312 0-27.264 27.392-45.248 54.592-45.248s45.248 17.92 45.248 45.248c0 27.136-18.048 45.312-45.248 45.312zM1024 629.76c0-144.896-145.024-262.976-307.904-262.976-172.48 0-308.224 118.144-308.224 262.976 0 145.28 135.808 262.976 308.224 262.976 36.096 0 72.512-9.024 108.736-18.112l99.392 54.528-27.264-90.624C969.728 783.872 1024 711.488 1024 629.76z m-407.872-45.376c-17.984 0-36.224-17.92-36.224-36.224 0-18.048 18.24-36.224 36.224-36.224 27.52 0 45.376 18.176 45.376 36.224 0 18.304-17.856 36.224-45.376 36.224z m199.36 0c-17.856 0-36.032-17.92-36.032-36.224 0-18.048 18.112-36.224 36.032-36.224 27.264 0 45.376 18.176 45.376 36.224 0 18.304-18.112 36.224-45.376 36.224z"
								p-id="10545" fill="#15a0ac"></path>
						</svg>
					</el-icon></el-button>
				<el-button class="orBtn" plain><el-icon>
						<svg t="1690990458672" class="icon" viewBox="0 0 1024 1024" version="1.1"
							xmlns="http://www.w3.org/2000/svg" p-id="17106" width="128" height="128">
							<path
								d="M980.79827 694.105946c-21.144216-122.796973-109.844757-203.250162-109.844757-203.250162 12.647784-111.477622-33.792-131.26573-33.792-131.26573C827.392 14.668108 530.985514 20.67373 524.730811 20.839784 518.476108 20.67373 222.01427 14.668108 212.300108 359.590054c0 0-46.467459 19.788108-33.819676 131.26573 0 0-88.700541 80.453189-109.817081 203.250162 0 0-11.291676 207.484541 101.403676 25.40627 0 0 25.350919 69.161514 71.790703 131.26573 0 0-83.082378 28.256865-75.997405 101.625081 0 0-2.87827 81.836973 177.401081 76.218811 0 0 126.699243-9.852541 164.753297-63.515676l16.605405 0 0.276757 0 16.633081 0c38.026378 53.635459 164.725622 63.515676 164.725622 63.515676 180.224 5.618162 177.401081-76.218811 177.401081-76.218811 7.029622-73.368216-75.997405-101.625081-75.997405-101.625081 46.439784-62.104216 71.790703-131.26573 71.790703-131.26573C992.034595 901.590486 980.79827 694.105946 980.79827 694.105946z"
								p-id="17107" fill="#15a0ac"></path>
						</svg>
					</el-icon></el-button>
				<el-button class="orBtn" plain><el-icon>
						<svg t="1690990379192" class="icon" viewBox="0 0 1024 1024" version="1.1"
							xmlns="http://www.w3.org/2000/svg" p-id="7877" width="128" height="128">
							<path
								d="M918.485017031111 209.07804444444446c-62.13783665777777-69.90506666666667-155.34459221333333-95.79583260444444-238.19504184888888-77.67229667555556-20.71261184 5.17815296-31.068918897777777 23.301688888888886-28.47984184888889 44.01430186666666 5.17815296 20.71261184 23.301688888888886 31.068918897777777 44.014300728888884 28.47984184888889 59.548760746666666-12.945382968888888 126.86475036444445 5.17815296 170.8790522311111 54.37060778666666 44.014300728888884 49.19245482666667 56.95968369777778 116.50844444444445 36.247071857777776 176.05720405333332-2.5890770488888886 10.35630592-2.5890770488888886 18.123535928888888 2.5890759111111112 28.47984184888889 5.17815296 7.767230008888888 12.945382968888888 15.534458879999999 20.712612977777777 18.123535928888888 18.123535928888888 5.17815296 38.836147768888885-5.17815296 46.60337777777777-23.301688888888886 23.301688888888886-85.43952554666666 7.767230008888888-178.6462811022222-54.37060778666666-248.55134776888886z"
								fill="#15a0ac" p-id="7878"></path>
							<path
								d="M807.1547255466666 436.9167803733333c15.534458879999999 5.17815296 33.657994808888894-2.5890770488888886 38.83614890666666-20.712612977777777 12.945382968888888-41.42522481777778 5.17815296-85.43952554666666-25.890765937777775-119.09752035555556-31.068918897777777-33.657994808888894-75.08321962666668-46.60337777777777-116.50844444444445-38.836147768888885-18.123535928888888 2.5890770488888886-28.47984184888889 20.71261184-23.301688888888886 36.247070719999996 2.5890770488888886 18.123535928888888 20.71261184 28.47984184888889 36.247071857777776 23.301688888888886 20.71261184-5.17815296 41.42522481777778 2.5890770488888886 56.95968369777778 18.123535928888888 15.534458879999999 15.534458879999999 18.123535928888888 38.836147768888885 12.945382968888888 59.548760746666666-5.17815296 18.123535928888888 5.17815296 36.247071857777776 20.71261184 41.42522481777778zM745.0168888888888 496.46554112c-12.945382968888888-5.17815296-23.301688888888886-7.767230008888888-15.534458879999999-23.301688888888886 15.534458879999999-38.836147768888885 15.534458879999999-72.49414371555555 0-95.79583260444444-31.068918897777777-44.014300728888884-116.50844444444445-41.42522481777778-212.30427704888885 0 0 0-31.068918897777777 12.945382968888888-23.301688888888886-10.35630592 15.534458879999999-49.19245482666667 12.945382968888888-88.02860259555555-10.35630592-111.33029148444444-51.78153073777778-51.78153073777778-191.5916640711111 2.5890770488888886-310.6891855644444 121.68659740444444C84.80236999111105 467.9856992711111 33.02083925333335 561.1924548266667 33.02083925333335 644.0429033244443c0 157.93366926222222 201.94796999111114 253.7295007288889 398.71778816 253.72950186666665 258.90765482666666 0 429.78670592000003-150.16643925333335 429.78670592000003-269.26396074666667 0-72.49414371555555-62.13783665777777-113.91936739555555-116.50844444444445-132.04290332444444zM431.73862741333335 840.8127214933334c-157.93366926222222 15.534458879999999-292.5656496355556-56.95968369777778-302.92195555555554-157.93366926222222-10.35630592-103.56306147555556 108.74121443555556-199.35889408 266.6748836977778-214.89335296000002 157.93366926222222-15.534458879999999 292.5656496355556 56.95968369777778 302.92195555555554 157.93366812444444 10.35630592 103.56306147555556-108.74121443555556 199.35889408-266.6748836977778 214.89335409777777z"
								fill="#15a0ac" p-id="7879"></path>
							<path
								d="M447.27308629333334 545.6579948088889c-75.08321962666668-20.71261184-160.5227451733333 18.123535928888888-191.5916640711111 82.85044963555556-33.657994808888894 67.31598961777779 0 142.3992103822222 75.08321962666668 165.70089927111113 77.67229667555556 25.890765937777775 170.8790522311111-12.945382968888888 201.94796999111114-85.43952668444444 31.068918897777777-69.90506666666667-7.767230008888888-142.3992103822222-85.43952554666666-163.11182222222223z m-56.95968369777778 173.4681281422222c-15.534458879999999 23.301688888888886-46.60337777777777 36.247071857777776-72.49414371555555 23.301688888888886-23.301688888888886-10.35630592-31.068918897777777-38.836147768888885-15.534458879999999-62.13783665777777 15.534458879999999-23.301688888888886 46.60337777777777-33.657994808888894 69.90506666666667-23.301688888888886 25.890765937777775 7.767230008888888 33.657994808888894 36.247071857777776 18.123535928888888 62.13783665777777z"
								fill="#15a0ac" p-id="7880"></path>
						</svg>
					</el-icon></el-button>
				<el-button class="orBtn" plain><el-icon>
						<svg t="1690990410074" class="icon" viewBox="0 0 1024 1024" version="1.1"
							xmlns="http://www.w3.org/2000/svg" p-id="9032" width="128" height="128">
							<path
								d="M886.3 299.8l-381.1 220-371.6-214.6c3.6-56.2 50.3-100.7 107.4-100.7h538.3c55.3 0 100.9 41.6 107 95.3z m0.7 78.8v334.9c0 59.5-48.2 107.7-107.7 107.7H241c-59.5 0-107.7-48.2-107.7-107.7V384.3l354.9 204.9c12.2 7 26.9 5.7 37.5-2.1 0.5-0.2 0.9-0.5 1.4-0.8L887 378.6z"
								p-id="9033" fill="#15a0ac"></path>
						</svg>
					</el-icon></el-button>
			</view>
		</view>
		<text class="login" @click="gotoRegister">没有账户？注册</text>
		<el-button class="btn" plain @click='login'>
			<text>登录</text>
		</el-button>
	</view>
</template>

<script setup>
	import {
		ref,
		// createApp
	} from 'vue'
	import user from '../../api/user';
	const account = ref('')
	const pwd = ref('')
	const remember = ref('')
	var userid = 2
	// var islogin=false


	let gotoRegister = () => {
		uni.navigateTo({
			url: '/pages/user/register'
		})
	}
	// 接口调用
	let login = () => {
		console.log("开始调用login")
		uni.$emit('userid', userid)
		uni.navigateBack({
			// url: '/pages/user/user'
			delta: 1
		})
		uni.request({
			url: 'http://a-puppy-c.top:9999/Smart/User/login',
			method: 'GET',
			header: {
				'Authorization': uni.getStorageSync('Authorization'),
				'content-type': 'application/x-www-form-urlencoded'
			},
			data: {
				account: account.value,
				pwd: pwd.value
			},
			success: (res) => {
				if (res.data.code == 200) {
					console.log("调用login成功");

				} else {
					console.log("调用login失败");
					if (res.data.code == -10006) {
						// 跳转到手机号验证页
					}
				}
				// console.log(res.data)

			},
			fail() {
				console.log("调用login失败");
			}
		})
	}
</script>

<style scoped>
	body {
		/* margin-top: 20rpx; */
		font-size: 12px;
	}

	.register {
		display: flex;
		align-items: center;
		flex-direction: column;
	}

	.bg {
		margin-top: 160rpx;
		padding-left: 10rpx;
		display: flex;
		align-items: center;
		flex-direction: column;
	}

	.bg .text1 {
		margin-bottom: 20rpx;
		width: 300rpx;
		height: 300rpx;
		display: block;
		font-size: 90rpx;
		text-align: center;
		line-height: 300rpx;
		background: #15a0ac;
		border-radius: 250rpx;
		color: white;
	}

	.bg .text2 {
		color: black;
		display: block;
		/* width: 300rpx; */
		font-size: 60rpx;
		text-align: center;
		/* padding-left: 20rpx; */
	}

	/* 输入框 */
	.input {
		margin-top: 70rpx;
		width: 560rpx;
	}

	.input .box {
		border-radius: 45rpx !important;
		overflow: hidden;
		border: #d6d6d6 1px solid;
		height: 90rpx;
		margin-bottom: 30rpx;
	}

	.input .box :deep(.el-input__wrapper) {
		/* 对border进行样式修改 */
		box-shadow: 0 0 0 0px var(--el-input-border-color, var(--el-border-color)) inset;
		border: none;
		height: 90rpx;
		margin: 0 5rpx;
	}

	/* 记住用户名和忘记密码 */
	.choice {
		display: flex;
		width: 520rpx;
		justify-content: space-between;
	}

	/* 其它登录方式 */
	.or {
		display: flex;
		flex-direction: column;
		align-items: center;
		margin: 10rpx 0;
	}

	.title {
		color: #7a7a7a;
		width: 96%;
		text-align: center;
	}

	.other {
		margin-top: 16px;
		display: flex;
		justify-content: center;
	}

	.orBtn {
		border: none;
		width: 24px;
		height: 24px;
		font-size: 24px;
		margin: 0 14px;
	}

	/* 注册或登录 */
	.login {
		display: block;
		margin: 30rpx 0;
		font-size: 12px;
	}

	.btn {
		width: 560rpx;
		background-color: #f6e382;
		border: none;
		border-radius: 26rpx;
		color: white;
		font-size: 16px;
		font-weight: 600;
	}
</style>